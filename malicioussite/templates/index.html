<!doctype html>
<html>
  <head>
    <title>Social Minefield</title>
    <script>
      // Yes, these are the links you can like when you click a mine.
      var minelinks = {% raw minelinks_array %};
    </script>
    <script src="{{ static_url("main.js") }}"></script>
    <link href="{{ static_url("main.css") }}" rel="stylesheet" />
  </head>
  <body>
    <div id="pagecontainer">
      <div class="block">
        <h1>🚩🚩🚩 Social Minefield 🚩🚩🚩</h1>
        <noscript>
          This site requires JS to run, because it's an interactive game. Sorry!
        </noscript>
        <p>A high-stakes game of minesweeper.</p>
        <p>Rules:</p>
        <ul>
          <li>
            It's a regular game of minesweeper, but clicking on a mine will like
            a random Facebook link.
          </li>
          <li>
            <strong>No right clicking</strong> to place flags, click the flag
            button to enter flag placing mode. When in this mode, clicking on a
            square will place a flag.
          </li>
          <li>
            You must be logged into Facebook, and use a browser without privacy
            protections (Google Chrome works best). Similarly, privacy
            extensions, adblockers, or being European 🇪🇺 break the game.
          </li>
          <li>Have fun! 😊</li>
        </ul>
        <div id="game">
          <div>
            <table class="field">
              {% for row in range(height) %}
                <tr>
                {% for col in range(width) %}
                <td class="square"></td>
                {% end %}
                </tr>
              {% end %}
            </table>
            <table class="flagplacer">
              {% for row in range(height) %}
                <tr>
                {% for col in range(width) %}
                <td class="flagsquare"></td>
                {% end %}
                </tr>
              {% end %}
            </table>
            <table class="iframes">
            {% for row in range(height) %}
              <tr>
                {% for col in range(width) %}
                <td class="boo" id="idx-{{ row*width + col}}"></td>
                {% end %}
              </tr>
            {% end %}
            </table>
            <div id="button-wrapper">
              <button id="placeflags">🚩 Start Flagging</button>
            </div>
            <div id="start-hint">
              <h3>Click a tile to start!</h3>
            </div>
          </div>
        </div>
      </div>
      <div class="block">
        <article>
          <h2 id="how-it-works">How does it work?</h2>
          <p>
            The game works by exploiting a security flaw called
            <em>Clickjacking</em>, which allows a malicious site to redirect
            clicks to another website to perform actions on behalf of the user.
          </p>
          <p>
            In this game, in the locations where mines would be, are actually
            hidden Facebook like buttons embedded in the page. When you click
            them, it will cause your Facebook account to like the link it is
            pointed at. For example:
          </p>
          <div id="demo-game">
              <table class="demo-field">
                <tbody>
                  <tr>
                    <td class="demo-square"></td>
                    <td class="demo-square like-button"></td>
                    <td class="demo-square clicked one"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked one"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square like-button"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square"></td>
                  </tr>
                  <tr>
                    <td class="demo-square clicked one"></td>
                    <td class="demo-square clicked one"></td>
                    <td class="demo-square clicked one"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked one"></td>
                    <td class="demo-square like-button"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square"></td>
                  </tr>
                  <tr>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked two"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square"></td>
                  </tr>
                  <tr>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked one"></td>
                    <td class="demo-square clicked one"></td>
                    <td class="demo-square two clicked"></td>
                    <td class="demo-square like-button"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square like-button"></td>
                    <td class="demo-square"></td>
                  </tr>
                  <tr>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked two"></td>
                    <td class="demo-square like-button"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square"></td>
                  </tr>
                  <tr>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked two"></td>
                    <td class="demo-square like-button"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square like-button"></td>
                    <td class="demo-square"></td>
                  </tr>
                  <tr>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked one"></td>
                    <td class="demo-square clicked two"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square clicked two"></td>
                    <td class="demo-square clicked one"></td>
                    <td class="demo-square clicked one"></td>
                  </tr>
                  <tr>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked one"></td>
                    <td class="demo-square like-button"></td>
                    <td class="demo-square"></td>
                    <td class="demo-square like-button"></td>
                    <td class="demo-square clicked one"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                  </tr>
                  <tr>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked one"></td>
                    <td class="demo-square clicked one"></td>
                    <td class="demo-square clicked two"></td>
                    <td class="demo-square clicked one"></td>
                    <td class="demo-square clicked one"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                  </tr>
                  <tr>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                    <td class="demo-square clicked zero"></td>
                  </tr>
                </tbody>
              </table>
              <div>
                <p>
                  <em>
                    A partially completed game of Social Minefield, but with the
                    Facebook Like buttons visible.
                  </em>
                </p>
              </div>
          </div>
          <p>
            As you can see, the suspiciously shaped tiles of this minesweeper game hide a secret. Let's take a closer look into the world of Clickjacking attacks.
          </p>
          <h2 id="clickjacking">The Clickjacking attack</h2>
          <p>
            In the security world, Clickjacking is a forgotten cousin when
            compared to other high-profile exploits such as
            <a href="https://en.wikipedia.org/wiki/SQL_injection">
              SQL Injection</a> or
            <a href="https://en.wikipedia.org/wiki/Cross-site_scripting">
              Cross Site Scripting (XSS)</a>. However, if a site is vulnerable
            to it, there still can be bad consequences for users.
          </p>
          <p>
            Here's a fictional, interactive demonstration of how Clickjacking
            attacks work:
          </p>
          <div id="interactive-demo-1" class="demo-wrapper">
            <div id="intro-to-shopfast">
              <div class="browser">
                <div class="url-bar">
                  <div>
                    <img width="24" height="24" src="/static/demos/lock.svg" alt="padlock icon indicating a secure site connection">
                    <!-- lmao, shopfast.com.au redirects to coles.com.au -->
                    <div>https://shopfast.com.au/shonky-hammer</div>
                  </div>
                  <button class="show-source">View source</button>
                </div>
                <div class="browser-body">
                  <div class="header">
                    <div>
                    <img src="/static/demos/shop-fast-mini-logo.png" alt="Shop Fast Logo">
                    <h1>ShopFast</h1>
                    </div>
                    <div>
                      <div class="username">
                        Logged in as Gareth
                      </div>
                      <button class="logout">
                        Logout
                      </button>
                    </div>
                  </div>
                  <div class="body">
                    <div class="item-listing">
                      <img
                        width="137px"
                        height="137px"
                        src="/static/demos/hammer.png"
                        alt="low quality hammer thumbnail">
                      <div class="item-description">
                        <h3>Shonky Hammer</h3>
                        <p class="item-company">
                          Shonky Steve PTY LTD
                       </p>
                        <p>
                          $100.00
                        </p>
                        <button class="instant-purchase">
                          <img width="12" height="12" src="/static/demos/shopping-cart.svg" alt="shopping cart icon">
                          <span>
                          1-click buy
                          </span>
                        </button>
                      </div>
                    </div>
                    <div class="item-reviews">
                      <div class="summary">
                        Reviews: 100
                        <span class="star-count">
                          ★★☆☆☆ 
                          2 stars
                        <span>
                      </div>
                    </div>
                    <div class="user-reviews">
                      <div>
                        <p>It sucks!!!</p>
                        <span class="star-count">
                          ★☆☆☆☆ 
                          1 star
                        <span>
                      </div>
                      <div>
                        <p>Barely works!!!</p>
                        <span class="star-count">
                          ★☆☆☆☆ 
                          1 star
                        <span>
                      </div>
                      <div>
                        <p>How do I refund??</p>
                        <span class="star-count">
                          ★★★★★
                          5 stars
                        <span>
                      </div>
                      <div>
                        <p>Item is great but got lost!!!</p>
                        <span class="star-count">
                          ★★☆☆☆
                          2 stars
                        <span>
                      </div>
                      <div>
                        <p>Delivered quickly</p>
                        <span class="star-count">
                          ★★★★★
                          5 stars
                        <span>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="browser-source hidden">
                  <!-- This is a simplified, HTML encoded version of the above
                       snippet. See the comment block under it for the source.
                       To create the below pre block, use the html-2-pre.py
                       script. -->
                  <h4>Viewing source code for: <code>https://shopfast.com.au</code></h4>
                  <pre>
&lt;<span class="tag">header</span>&gt;
  &lt;<span class="tag">div</span>&gt;
    &lt;<span class="tag">img <span class="attribute">src</span>="<span class="string">shop-fast-mini-logo.png</span>"</span>&gt;
    &lt;<span class="tag">h1</span>&gt;ShopFast&lt;/<span class="tag">h1</span>&gt;
  &lt;/<span class="tag">div</span>&gt;
  &lt;<span class="tag">div</span>&gt;
    &lt;<span class="tag">div</span>&gt;Logged in as Gareth&lt;/<span class="tag">div</span>&gt;
    &lt;<span class="tag">button</span>&gt;Logout&lt;/<span class="tag">button</span>&gt;
  &lt;/<span class="tag">div</span>&gt;
&lt;/<span class="tag">header</span>&gt;
&lt;<span class="tag">div <span class="attribute">class</span>="<span class="string">item</span>"</span>&gt;
  &lt;<span class="tag">img <span class="attribute">src</span>="<span class="string">hammer.png</span>"</span>&gt;
  &lt;<span class="tag">div</span>&gt;
    &lt;<span class="tag">h3</span>&gt;Shonky Hammer&lt;/<span class="tag">h3</span>&gt;
    &lt;<span class="tag">p</span>&gt;Shonky Steve PTY LTD&lt;/<span class="tag">p</span>&gt;
    &lt;<span class="tag">p</span>&gt;$100.00&lt;/<span class="tag">p</span>&gt;
    &lt;<span class="tag">button</span>&gt;
      &lt;<span class="tag">img <span class="attribute">src</span>="<span class="string">shopping-cart.svg</span>"</span>&gt;
      &lt;<span class="tag">span</span>&gt;1-click buy&lt;/<span class="tag">span</span>&gt;
    &lt;/<span class="tag">button</span>&gt;
  &lt;/<span class="tag">div</span>&gt;
&lt;/<span class="tag">div</span>&gt;
&lt;<span class="tag">div <span class="attribute">class</span>="<span class="string">item-reviews</span>"</span>&gt;
  &lt;<span class="tag">div</span>&gt;
    Reviews: 100
    &lt;<span class="tag">span <span class="attribute">class</span>="<span class="string">star-count</span>"</span>&gt;
      ★★☆☆☆ 2 stars
    &lt;/<span class="tag">span</span>&gt;
  &lt;/<span class="tag">div</span>&gt;
&lt;/<span class="tag">div</span>&gt;
&lt;<span class="tag">div <span class="attribute">class</span>="<span class="string">user-reviews</span>"</span>&gt;
  &lt;<span class="tag">div <span class="attribute">class</span>="<span class="string">review</span>"</span>&gt;
    &lt;<span class="tag">p</span>&gt;It sucks!!!&lt;/<span class="tag">p</span>&gt;
    &lt;<span class="tag">span <span class="attribute">class</span>="<span class="string">star-count</span>"</span>&gt;
      ★☆☆☆☆ 1 star
    &lt;/<span class="tag">span</span>&gt;
  &lt;/<span class="tag">div</span>&gt;
  &lt;<span class="tag">div <span class="attribute">class</span>="<span class="string">review</span>"</span>&gt;
    &lt;<span class="tag">p</span>&gt;Barely works!!!&lt;/<span class="tag">p</span>&gt;
    &lt;<span class="tag">span <span class="attribute">class</span>="<span class="string">star-count</span>"</span>&gt;
      ★☆☆☆☆ 1 star
    &lt;<span class="tag">span</span>&gt;
  &lt;/<span class="tag">div</span>&gt;
  &lt;<span class="tag">div <span class="attribute">class</span>="<span class="string">review</span>"</span>&gt;
    &lt;<span class="tag">p</span>&gt;How do I refund??&lt;/<span class="tag">p</span>&gt;
    &lt;<span class="tag">span <span class="attribute">class</span>="<span class="string">star-count</span>"</span>&gt;
      ★★★★★ 5 stars
    &lt;<span class="tag">span</span>&gt;
  &lt;/<span class="tag">div</span>&gt;
  &lt;<span class="tag">div <span class="attribute">class</span>="<span class="string">review</span>"</span>&gt;
    &lt;<span class="tag">p</span>&gt;Item is great but got lost!!!&lt;/<span class="tag">p</span>&gt;
    &lt;<span class="tag">span <span class="attribute">class</span>="<span class="string">star-count</span>"</span>&gt;
      ★★☆☆☆ 2 stars
    &lt;<span class="tag">span</span>&gt;
  &lt;/<span class="tag">div</span>&gt;
  &lt;<span class="tag">div <span class="attribute">class</span>="<span class="string">review</span>"</span>&gt;
    &lt;<span class="tag">p</span>&gt;Delivered quickly&lt;/<span class="tag">p</span>&gt;
    &lt;<span class="tag">span <span class="attribute">class</span>="<span class="string">star-count</span>"</span>&gt;
      ★★★★★ 5 stars
    &lt;<span class="tag">span</span>&gt;
  &lt;/<span class="tag">div</span>&gt;
&lt;/<span class="tag">div</span>&gt;</pre>
<!--
<header>
  <div>
    <img src="shop-fast-mini-logo.png">
    <h1>ShopFast</h1>
  </div>
  <div>
    <div>Logged in as Gareth</div>
    <button>Logout</button>
  </div>
</header>
<div class="item">
  <img src="hammer.png">
  <div>
    <h3>Shonky Hammer</h3>
    <p>Shonky Steve PTY LTD</p>
    <p>$100.00</p>
    <button>
      <img src="shopping-cart.svg">
      <span>1-click buy</span>
    </button>
  </div>
</div>
<div class="item-reviews">
  <div>
    Reviews: 100
    <span class="star-count">
      ★★☆☆☆ 2 stars
    </span>
  </div>
</div>
<div class="user-reviews">
  <div class="review">
    <p>It sucks!!!</p>
    <span class="star-count">
      ★☆☆☆☆ 1 star
    </span>
  </div>
  <div class="review">
    <p>Barely works!!!</p>
    <span class="star-count">
      ★☆☆☆☆ 1 star
    <span>
  </div>
  <div class="review">
    <p>How do I refund??</p>
    <span class="star-count">
      ★★★★★ 5 stars
    <span>
  </div>
  <div class="review">
    <p>Item is great but got lost!!!</p>
    <span class="star-count">
      ★★☆☆☆ 2 stars
    <span>
  </div>
  <div class="review">
    <p>Delivered quickly</p>
    <span class="star-count">
      ★★★★★ 5 stars
    <span>
  </div>
</div>
-->
                </div>
              </div>
              <div class="description">
                <h4>Welcome to ShopFast!</h4>
                <p>
                  Australia's leading eCommerce website.
                </p>
                <p>
                  This fictional site lets you purchase goods from sellers
                  across the world, with just one click.
                </p>
                <p>
                  Pressing the '1-click buy' button will automatically debit the
                  money from your account, and send the purchased item to your
                  address.
                </p>
                <p>
                  Try clicking it! To make it easier to understand how the demo
                  works, we'll make a pop-up appear when you click it.
                </p>
              </div>
            </div>
            <div id="shonky-setup" class="hidden">
              <div class="browser">
                <div class="url-bar">
                  <div>
                    <img width="24" height="24" src="/static/demos/lock.svg" alt="padlock icon indicating a secure site connection">
                    <div>https://youhavewonafreecar.com</div>
                  </div>
                  <button class="show-source">View source</button>
                </div>
                <div class="browser-body">
                  <div class="body">
                    <div>
                      <p>
                        Congratulations, Shonky Steve, you are now the proud
                        owner of <code><strong>youhavewonafreecar.com</strong></code>!
                      </p>
                      <p>
                        Please edit your new website, and enjoy!
                      </p>
                      <p>
                        <strong>TODO: I think we can make this slide better.</strong>
                      </p>
                    </div>
                  </div>
                </div>
                <div class="browser-source hidden">
                  <h4>Viewing source code for: <code>https://youhavewonafreecar.com</code></h4>
                  <strong>TODO</strong>: Will fill this in once I'm done designing everything.
                </div>
              </div>
              <div class="description">
                <h4>The Heist Begins</h4>
                <p>
                  Shonky Steve wishes to get more people to buy his items, as
                  he's noticed the bad reviews have started to deter people.
                  <!-- Sounds like Shonky Steve should get into review fraud
                       then, huh! -->
                </p>
                <p>
                  Instead, he decides to set up a website to trick people into
                  buying them.
                </p>
                <p>
                  He purchases <code>YouHaveWonAFreeCar.com</code> and begins
                  his master plan.
                </p>
              </div>
            </div>
            <div id="embedding-the-website" class="hidden">
              <div class="browser">
                <div class="url-bar">
                  <div>
                    <img width="24" height="24" src="/static/demos/lock.svg" alt="padlock icon indicating a secure site connection">
                    <div>https://youhavewonafreecar.com</div>
                  </div>
                  <button class="show-source">View source</button>
                </div>
                <div class="browser-body">
                  <div class="header">
                    <div>
                    <img src="/static/demos/shop-fast-mini-logo.png" alt="Shop Fast Logo">
                    <h1>ShopFast</h1>
                    </div>
                    <div>
                      <div class="username">
                        Logged in as Gareth
                      </div>
                      <button class="logout">
                        Logout
                      </button>
                    </div>
                  </div>
                  <div class="body">
                    <div class="item-listing">
                      <img
                        width="137px"
                        height="137px"
                        src="/static/demos/hammer.png"
                        alt="low quality hammer thumbnail">
                      <div class="item-description">
                        <h3>Shonky Hammer</h3>
                        <p class="item-company">
                          Shonky Steve PTY LTD
                        </p>
                        <p>
                          $100.00
                        </p>
                        <button class="instant-purchase">
                          <img width="12" height="12" src="/static/demos/shopping-cart.svg" alt="shopping cart icon">
                          <span>
                          1-click buy
                          </span>
                        </button>
                      </div>
                    </div>
                    <div class="item-reviews">
                      <div class="summary">
                        Reviews: 100
                        <span class="star-count">
                          ★★☆☆☆ 
                          2 stars
                        <span>
                      </div>
                    </div>
                    <div class="user-reviews">
                      <div>
                        <p>It sucks!!!</p>
                        <span class="star-count">
                          ★☆☆☆☆ 
                          1 star
                        <span>
                      </div>
                      <div>
                        <p>Barely works!!!</p>
                        <span class="star-count">
                          ★☆☆☆☆ 
                          1 star
                        <span>
                      </div>
                      <div>
                        <p>How do I refund??</p>
                        <span class="star-count">
                          ★★★★★
                          5 stars
                        <span>
                      </div>
                      <div>
                        <p>Item is great but got lost!!!</p>
                        <span class="star-count">
                          ★★☆☆☆
                          2 stars
                        <span>
                      </div>
                      <div>
                        <p>Delivered quickly</p>
                        <span class="star-count">
                          ★★★★★
                          5 stars
                        <span>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="browser-source hidden">
                  <h4>Viewing source code for: <code>https://youhavewonafreecar.com</code></h4>
                  <pre>
<!-- Not sure if having this in here is confusing.
<span class="comment">&lt;!--
  Yes, this is how simple the source is!
--&gt;</span> -->
&lt;<span class="tag">div</span>&gt;
  &lt;<span class="tag">iframe</span> <span class="attribute">src</span>="<span class="string">https://shopfast.com.au</span>" /&gt;
&lt;/<span class="tag">div</span>&gt;
</pre>
                </div>
              </div>
              <div class="description">
                <h4>Inception</h4>
                <!-- Editor's note: The Inception reference is incredibly fresh
                     and new, and-OH GOD IT CAME OUT 14 YEARS AGO -->
                <p>
                  First, he embeds the ShopFast website <em>inside</em> his, in
                  a nested window.
                </p>
                <p>
                  Notice how identical it can be with the original site, however
                  note that the URL that shows up in the "browser" is Shonky's,
                  not ShopFast's URL.
                </p>
                <p>
                  Web browsers by default will allow this to happen, and the
                  embedded website will <em>usually</em> act as normal. If you
                  are logged in, you will also appear so in the embedded site.
                </p>
                <p>
                  Interacting with the embedded site works as normal. You can
                  even press buy!
                </p>
              </div>
            </div>
            <div id="overlaying-divs" class="hidden">
              <div class="browser">
                <div class="url-bar">
                  <div>
                    <img width="24" height="24" src="/static/demos/lock.svg" alt="padlock icon indicating a secure site connection">
                    <div>https://youhavewonafreecar.com</div>
                  </div>
                  <button class="show-source">View source</button>
                </div>
                <div class="browser-body">
                  <div class="shonky-site">
                    <div id="blocker-1" class="blocker-1"></div>
                    <div id="blocker-2" class="blocker-2"></div>
                    <div id="blocker-3" class="blocker-3"></div>
                    <div id="blocker-4" class="blocker-4"></div>
                  </div>
                  <div class="header">
                    <div>
                    <img src="/static/demos/shop-fast-mini-logo.png" alt="Shop Fast Logo">
                    <h1>ShopFast</h1>
                    </div>
                    <div>
                      <div class="username">
                        Logged in as Gareth
                      </div>
                      <button class="logout">
                        Logout
                      </button>
                    </div>
                  </div>
                  <div class="body">
                    <div class="item-listing">
                      <img
                        width="137px"
                        height="137px"
                        src="/static/demos/hammer.png"
                        alt="low quality hammer thumbnail">
                      <div class="item-description">
                        <h3>Shonky Hammer</h3>
                        <p class="item-company">
                          Shonky Steve PTY LTD
                        </p>
                        <p>
                          $100.00
                        </p>
                        <button class="instant-purchase">
                          <img width="12" height="12" src="/static/demos/shopping-cart.svg" alt="shopping cart icon">
                          <span>
                          1-click buy
                          </span>
                        </button>
                      </div>
                    </div>
                    <div class="item-reviews">
                      <div class="summary">
                        Reviews: 100
                        <span class="star-count">
                          ★★☆☆☆ 
                          2 stars
                        <span>
                      </div>
                    </div>
                    <div class="user-reviews">
                      <div>
                        <p>It sucks!!!</p>
                        <span class="star-count">
                          ★☆☆☆☆ 
                          1 star
                        <span>
                      </div>
                      <div>
                        <p>Barely works!!!</p>
                        <span class="star-count">
                          ★☆☆☆☆ 
                          1 star
                        <span>
                      </div>
                      <div>
                        <p>How do I refund??</p>
                        <span class="star-count">
                          ★★★★★
                          5 stars
                        <span>
                      </div>
                      <div>
                        <p>Item is great but got lost!!!</p>
                        <span class="star-count">
                          ★★☆☆☆
                          2 stars
                        <span>
                      </div>
                      <div>
                        <p>Delivered quickly</p>
                        <span class="star-count">
                          ★★★★★
                          5 stars
                        <span>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="browser-source hidden">
                  <h4>Viewing source code for: <code>https://youhavewonafreecar.com</code></h4>
                  <pre>
</pre>
                </div>
              </div>
              <div class="description">
                <h4>Covering things up</h4>
                <p>
                  Steve will intentionally set up his website to trick people
                  to click buy on his item.
                </p>
                <p>
                  First, he covers up everything but the buy button with
                  elements so that people don't accidentally interact with the
                  site in other ways (clicking logging out, for example).
                </p>
                <!-- TMI.
                <p>
                  He also makes it so that the ShopFast embed isn't scrollable.
                </p>
                -->
                <div>
                  <p>
                    Adjust the transparency of Steve's overlay to see how it
                    works:
                  </p>
                  <label for="opacity-slider-2">Transparency: 100%</label>
                  <input
                    id="opacity-slider-2"
                    name="opacity-slider"
                    type="range"
                    min="0"
                    max="100"
                    step="1"
                    value="100">
                </div>
                <div>
                  <input
                    autocomplete="off"
                    class="overlay-visibility"
                    id="overlay-1-vis"
                    name="overlay-1-vis"
                    type="checkbox"
                    checked
                  >
                  <label for="overlay-1-vis">Show overlay 1</label>
                </div>
                <div>
                  <input
                    autocomplete="off"
                    class="overlay-visibility"
                    id="overlay-2-vis"
                    name="overlay-2-vis"
                    type="checkbox"
                    checked
                  >
                  <label for="overlay-2-vis">Show overlay 2</label>
                </div>
                <div>
                  <input
                    autocomplete="off"
                    class="overlay-visibility"
                    id="overlay-3-vis"
                    name="overlay-3-vis"
                    type="checkbox"
                    checked
                  >
                  <label for="overlay-3-vis">Show overlay 3</label>
                </div>
                <div>
                  <input
                    autocomplete="off"
                    class="overlay-visibility"
                    id="overlay-4-vis"
                    name="overlay-4-vis"
                    type="checkbox"
                    checked
                  >
                  <label for="overlay-4-vis">Show overlay 4</label>
                </div>
              </div>
            </div>
            <div id="adding-enticing-content" class="hidden">
            <!-- <div id="adding-enticing-content"> -->
              <div class="browser">
                <div class="url-bar">
                  <div>
                    <img width="24" height="24" src="/static/demos/lock.svg" alt="padlock icon indicating a secure site connection">
                    <div>https://youhavewonafreecar.com</div>
                  </div>
                  <button class="show-source">View source</button>
                </div>
                <div class="browser-body">
                  <div class="shonky-site">
                    <div class="blocker-1"></div>
                    <div class="blocker-2"></div>
                    <div class="blocker-3"></div>
                    <div class="blocker-4"></div>
                    <div class="shonky-content">
                      <img
                        class="shonky-steve-logo"
                        src="/static/demos/shonky-steve-free-car-logo.png">
                    </div>
                  </div>
                  <div class="header">
                    <div>
                    <img src="/static/demos/shop-fast-mini-logo.png" alt="Shop Fast Logo">
                    <h1>ShopFast</h1>
                    </div>
                    <div>
                      <div class="username">
                        Logged in as Gareth
                      </div>
                      <button class="logout">
                        Logout
                      </button>
                    </div>
                  </div>
                  <div class="body">
                    <div class="item-listing">
                      <img
                        width="137px"
                        height="137px"
                        src="/static/demos/hammer.png"
                        alt="low quality hammer thumbnail">
                      <div class="item-description">
                        <h3>Shonky Hammer</h3>
                        <p class="item-company">
                          Shonky Steve PTY LTD
                        </p>
                        <p>
                          $100.00
                        </p>
                        <button class="instant-purchase">
                          <img width="12" height="12" src="/static/demos/shopping-cart.svg" alt="shopping cart icon">
                          <span>
                          1-click buy
                          </span>
                        </button>
                      </div>
                    </div>
                    <div class="item-reviews">
                      <div class="summary">
                        Reviews: 100
                        <span class="star-count">
                          ★★☆☆☆ 
                          2 stars
                        <span>
                      </div>
                    </div>
                    <div class="user-reviews">
                      <div>
                        <p>It sucks!!!</p>
                        <span class="star-count">
                          ★☆☆☆☆ 
                          1 star
                        <span>
                      </div>
                      <div>
                        <p>Barely works!!!</p>
                        <span class="star-count">
                          ★☆☆☆☆ 
                          1 star
                        <span>
                      </div>
                      <div>
                        <p>How do I refund??</p>
                        <span class="star-count">
                          ★★★★★
                          5 stars
                        <span>
                      </div>
                      <div>
                        <p>Item is great but got lost!!!</p>
                        <span class="star-count">
                          ★★☆☆☆
                          2 stars
                        <span>
                      </div>
                      <div>
                        <p>Delivered quickly</p>
                        <span class="star-count">
                          ★★★★★
                          5 stars
                        <span>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="browser-source hidden">
                  <h4>Viewing source code for: <code>https://youhavewonafreecar.com</code></h4>
                  <pre>
</pre>
                </div>
              </div>
              <div class="description">
                <h4>Free Cars!</h4>
                <p>
                  Finally, Steve adds some content to his site that's enticing
                  enough to get people to click.
                </p>
                <p>
                  The "Enter giveaway" button doesn't do anything. Instead, it's
                  intentionally set up to <em>ignore</em> clicks.
                </p>
                <p>
                  When you click it, you will actually be clicking the Buy Now
                  button underneath, even though it's not visible!
                </p>
                <p>
                  Unfortunately for the person claiming their "prize", they'll
                  only receive a shonky hammer and feel a little lighter in the
                  pocket, too.
                </p>
                <div>
                  <label for="opacity-slider-1">Transparency</label>
                  <input
                    id="opacity-slider-1"
                    name="opacity-slider"
                    type="range"
                    min="0"
                    max="100"
                    step="1"
                    value="100">
                </div>
              </div>
            </div>
            <div id="epilogue" class="hidden">
              <h4>Extra credit</h4>
              <p>
                And with that, we've demonstrated how a Clickjacking attack
                works. A malicious website can embed another website, and be
                designed to trick visitors to perform unintended actions.
              </p>
              <p>
                It's not just limited to single clicks! You can chain multiple
                clicks together to perform more complex actions.
              </p>
              <p>
                <strong>TODO:</strong> I think we should have an example like deleting files from boggle cloud or whatever. Click delete, then confirm.
              </p>
            </div>
            <span class="steps">
              <button id="prev-step-1" disabled>← Prev</button>
              <button id="next-step-1">Next →</button>
            </span>
          </div>
          <h2 id="check-vulnerability">
            How do I know if a site is vulnerable?
          </h2>
          <p>
            I've written a tool to easily check whether a site is vulnerable to
            Clickjacking. A site is vulnerable when the developer responsible
            for hosting it has not included a setting on their website that will
            reject attempts at embedding it on other websites.
          </p>
          <div id="checker-wrapper">
          <form id="clickjacking-checker" action="javascript:void(0);">
            <label for="clickjacking-website-input">Check website</label>
            <div>
              <input id="clickjacking-website-input" name="clickjacking-website-input" placeholder="google.com" />
              <button type="submit">Submit</button>
            </div>
            <div class="results">
              <div class="check-result-error hidden">
              </div>
              <div class="safe-result hidden">
                <h4>This website is not vulnerable.</h4>
                <div class="success-none-allowed hidden">
                  <p>
                    The website you've provided is protected against clickjacking attacks. This is because the website does not allow any website to host it, even itself.
                  </p>
                </div>
                <div class="success-result-list hidden">
                  <p>
                    The website you've provided is protected against clickjacking attacks. This is because the website has specified a policy that only allows the following websites to host them.
                  </p>
                  <ul>
                    <li><code>google.com</code></li>
                    <li><code>www.google.com</code></li>
                  </ul>
                </div>
                <div class="check-result-invalid hidden">
                  <p>
                    The website also specifies a few more invalid sources, which are ignored by your browser.
                  </p>
                  <ul>
                    <li><code>daklsjdakljsd</code></li>
                    <li><code>daskldasdkl</code></li>
                  </ul>
                </div>
              </div>
              <div class="unsafe-result hidden">
                <h4>This website is vulnerable.</h4>
                <div class="unsafe-missing-policy hidden">
                  <p>
                  The website you've provided does not specify a policy, and thus is <em>by default</em> vulnerable to clickjacking attacks.
                  </p>
                </div>
                <div class="unsafe-result-list hidden">
                  <p>
                    The website you've provided is not protected against clickjacking attacks. This is because the website has specified a policy that allows the following websites. These websites are too permissive, and not specific enough.
                  </p>
                  <ul>
                    <li><code>*.com</code></li>
                    <li><code>https:</code> (any https website)</li>
                  </ul>
                </div>
                <div class="unsafe-result-list-safe-exceptions hidden">
                    <p>
                      However, it also does specify some safe websites.
                    </p>
                    <ul>
                      <li><code>google.com</code></li>
                      <li><code>www.google.com</code></li>
                    </ul>
                </div>
                <div class="check-result-invalid hidden">
                  <p>
                    The website also specifies a few more invalid sources, which are ignored by your browser.
                  </p>
                  <ul>
                    <li><code>daklsjdakljsd</code></li>
                    <li><code>daskldasdkl</code></li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="loader">Loading...</div>
          </form>
          </div>
          <p>
            What these field values specify is whether another website is
            allowed to embed this website in their site. If it's not allowed,
            then your web browser (Chrome, Firefox, Safari, etc) will refuse to
            embed it if it's tried, thus thwarting the attack.
          </p>
          <p>
            <strong>TODO:</strong> Let's add a picture of failed to load screen.
          </p>
          <p>
            Some sites may intentionally want to allow being embedded in other
            sites, such as the Facebook "Like" button. It's used to allow
            websites (such as news sites) to let users "like" a page, making
            sure the article gets more attention. Facebook uses the Like button
            to discreetly track users across the web. They're embedded across
            <!-- Source: https://developers.facebook.com/blog/post/2013/11/06/introducing-new-like-and-share-buttons/ -->
            7.5 million websites - that's quite a spy network!
          </p>
          <h2 id="how-to-fix">I'm a developer, how do I fix my site?</h2>
          <p>
            Not much effort is required, just adding
            <code>x-frame-options: SAMEORIGIN</code> or
            <code>content-security-policy: frame-ancestors 'self'</code> to your
            HTTP headers suffices.
          </p>
          <p>
            I've written a detailed guide for how to do so,
            <a href="/developers">here</a>.
          </p>
          <h2 id="fix-once-and-for-all">
            How to <em>eradicate</em> this vulnerability?
          </h2>
          <p>TODO: Describe how if we make it opt-in rather than opt out, the attack wouldn't nearly be as widespread.</p>
          <h2 id="fixing-for-myself">How do I protect myself?</h2>
          <p>
            Unfortunately, it's up to the website creators to fix their website
            to make their users not vulnerable to Clickjacking attacks for that
            site.
          </p>
          <p>
            However, if you wish to fix this specific attack against Facebook
            likes, you can install some software which has built-in protections
            against trackers and ads, which thwart this method.
          </p>
          <p>
            I personally recommend:
          </p>
          <ul>
            <li>
              <a href="https://www.mozilla.org/en-US/firefox/new/">Firefox</a>
              or <a href="https://www.apple.com/au/safari/">Safari</a> (iOS/Mac)
              browsers.
            </li>
            <ul>
              <li>
                These both have great built-in protections for both safety and
                privacy.
              </li>
              <li>
                Unfortunately Google Chrome does not (and probably won't ever)
                have privacy protections from trackers, as their business is
                built around tracking user-information and selling ads.
              </li>
            </ul>
            <li>
              <a href="https://privacybadger.org/">Privacy Badger</a> - A
              browser extension that intelligently blocks trackers.
            </li>
            <ul>
              <li>For Google Chrome: <a href="https://chromewebstore.google.com/detail/privacy-badger/pkehgijcmpdhfbdbbnkijodmdjhbjlgp">here</a></li>
              <li>For Firefox: <a href="https://addons.mozilla.org/en-US/firefox/addon/privacy-badger17/">here</a></li>
              <li>For Edge: <a href="https://microsoftedge.microsoft.com/addons/detail/privacy-badger/mkejgcgkdlddbggjhhflekkondicpnop">here</a></li>
              <li>Safari is not supported. 😞</li>
            </ul>
            <li>
              <a href="https://ublockorigin.com/">uBlock Origin</a> - The best
              ad blocker in existence.
            </li>
            <ul>
              <li>For Google Chrome: <a href="https://chromewebstore.google.com/detail/ublock-origin/cjpalhdlnbpafiamejdnhcphjbkeiagm">here</a></li>
              <li>For Firefox: <a href="https://addons.mozilla.org/en-US/firefox/addon/ublock-origin/">here</a></li>
              <li>For Edge: <a href="https://microsoftedge.microsoft.com/addons/detail/ublock-origin/odfafepnkmbhccpbejgmiehpchacaeak">here</a></li>
              <li>Safari is not supported. 😞 However, I've heard good things about <a href="https://1blocker.com/">1Blocker</a>.</li>
            </ul>
          </ul>
          <h2>Acknowledgements</h2>
          <p>
            TODO: ???
            <!-- icon set creators if relevant -->
          </p>
          <p>
            If you're curious, the code for all this is free and open-source on
            GitHub, <a href="https://github.com/pnappa/social-minefield">
              here</a>. Or, just view source on this page. 🙃
          </p>
        </article>
      </div>
      <footer class="block">
        <h3>Made with malaise 💔 by Patrick Nappa (me@pat.sh)</h3>
        <p>See other things I've made on <a href="https://pat.sh/">my site</a>!</p>
        <p>Please feel free to email feedback.</p>
      </footer>
    </div>
    {# TODO: remove the following ??? #}
    <div>
      <iframe referrerpolicy="no-referrer" src="https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Fplugins%2F&width=100px&layout&action&size&share=false&height=35&appId" width="100px" height="35" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>
      <!--<iframe referrerpolicy="no-referrer" src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FMrBeast6000&tabs=timeline&width=180&height=70&small_header=true&adapt_container_width=false&hide_cover=true&show_facepile=false&appId" width="180" height="70" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>-->
      <!--<iframe referrerpolicy="no-referrer" src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FMrBeast6000&tabs=timeline&width=180&height=70&small_header=true&adapt_container_width=false&hide_cover=true&show_facepile=false&appId" width="180" height="70" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowfullscreen="true" allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"></iframe>-->
    </div>
    {#
    <iframe scrolling="no" referrerpolicy="no-referrer" src="{{ IFRAMESRC }}"></iframe>
    #}
  </body>
</html>
